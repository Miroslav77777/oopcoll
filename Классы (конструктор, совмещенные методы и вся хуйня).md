***Конструкторы

Кроме обычных методов классы могут определять специальные методы, которые называются **конструкторами**. Конструкторы вызываются при создании нового объекта данного класса. Конструкторы выполняют инициализацию объекта.

Если в классе не определено ни одного конструктора, то для этого класса автоматически создается конструктор без параметров.

Выше определенный класс Person не имеет никаких конструкторов. Поэтому для него автоматически создается конструктор по умолчанию, который мы можем использовать для создания объекта Person. В частности, создадим один объект:

```java
public class Program
{
	public static void main(String[] args)
	{
		Person tom = new Person(); //создание объекта
		tom.displayInfo();

		//изменяем имя и возраст
		tom.name = "Tom";
		tom.age = 34;
		tom.displayInfo();
	}
}
class Person
{
	String name; //имя
	int age; //возраст
	void displayInfo()
	{
		System.out.printf("Name: %s \tAge: %d\n", name, age);
	}
}
```

Для создания объекта Person используется выражение `new Person()`. Оператор **new** выделяет память для объекта Person. И затем вызывается конструктор по умолчанию, который не принимает никаких параметров. В итоге после выполнения данного выражения в памяти будет выделен участок, где будут храниться все данные объекта Person. А переменная `tom` получит ссылку на созданный объект.

Если конструктор не инициализирует значения переменных объекта, то они получают значения **по умолчанию**. Для переменных числовых типов это число 0, а для типа string и классов - это значение null (то есть фактически отсутствие значения).

После создания объекта мы можем обратиться к переменным объекта Person через переменную tom и установить или получить их значения, например, `tom.name = "Tom"`.

В итоге мы увидим на консоли:

```
Name: null		Age: 0
Name: Tom		Age: 34
```

Если необходимо, чтобы при создании объекта производилась какая-то **логика**, например, чтобы поля класса получали какие-то определенные значения, то можно определить в классе свои конструкторы. Например:

```java
public class Program
{
	public static void main(String[] args)
	{
		Person bob = new Person(); //вызов 1-го конструктора без параметров
		bob.displayInfo();

		Person tom = new Person("Tom"); //вызов 2-го конструктора с 1-м парам-м
		tom.displayInfo();

		Person sam = new Person("Sam", 25); //вызов 3-го конструктора с 2-мя пар-ми
	}
}

class Person
{
	String name;
	int age;
	Person()
	{
		name = "Undefined";
		age = 18;
	}
	Person(String n)
	{
		name = n;
		age = 18;
	}
	Person(String n, int a)
	{
		name = n;
		age = a;
	}
	void displayInfo()
	{
		System.out.printf("Name: %s \tAge: %d\n", name, age);
	}
}
```

Теперь в классе определено три конструктора, каждый из которых принимает различное количество параметров и устанавливает значения полей класса.

Консольный вывод программы:

```
Name: Undefined		Age: 18
Name: Tom			Age: 18
Name: Sam			Age: 25
```

***Ключевое слово this

Ключевое слово **this** представляет ссылку на текущий экземпляр класса. Через это ключевое слово мы можем обращаться к переменным, методам объекта, а также вызывать его конструкторы. Например:

```java
public class Program
{
	public static void main(String[] args)
	{
		Person undef = new Person();
		undef.displayInfo();

		Person tom = new Person("Tom");
		tom.displayInfo();

		Person sam = new Person("Sam", 25);
		sam.displayInfo();
	}
}
class Person
{
	String name;
	int age;
	Person()
	{
		this("Undefined", 18);
	}
	Person(String name)
	{
		this(name, 18);
	}
	Person(String name, int age)
	{
		this.name = name;
		this.age = age;
	}
	void displayInfo()
	{
		System.out.printf("Name: %s \tAge: %d\n", name, age);
	}
}
```

В третьем конструкторе параметры называются так же, как и поля класса. И чтобы разграничить поля и параметры, применяется ключевое слово this:

```java
this.name = name;
```

Так, в данном случае указываем, что значение параметра name присваивается полю name.

Кроме того, у нас три конструктора, которые выполняют идентичные действия: устанавливают поля name и age. Чтобы избежать повторов, с помощью **this** можно вызвать один из конструкторов класса и передать для его параметров необходимые значения:

```java
Person(String name)
{
	this(name, 18);
}
```

В итоге результат программы будет тот же, что и в предыдущем примере.

***Инициализаторы

Кроме конструктора начальную инициализацию объекта вполне можно было проводить с помощью инициализатора объекта. Инициализатор выполняется до любого конструктора. То есть в инициализатор мы можем поместить код, общий для всех конструкторов:

```java
public class Program
{
	public static void main(String[] args)
	{
		Person undef = new Person();
		undef.displayInfo();

		Person tom = new Person("Tom");
		tom.displayInfo();
	}
}
class Person
{
	String name; //имя
	int age; //возраст

	/*Начало блока инициализатора*/
	{
		name = "Undefined";
		age = 18;
	}
	/*Конец блока инициализатора*/
	Person(String name)
	{
		this.name = name;
	}
	Person(String name, int age)
	{
		this.name = name;
		this.age = age;
	}
	void displayInfo()
	{
		System.out.printf("Name: %s \tAge: %d\n", name, age);
	}
}
```

Консольный вывод:

```
Name: Undefined 	Age: 18
Name: Tom			Age: 18
```

В Java, совмещенные методы (также называемые статическими методами) являются методами, которые принадлежат классу, а не объекту класса. Они могут быть вызваны без создания экземпляра класса. Совмещенные методы часто используются для выполнения операций, которые не зависят от состояния объекта, и для предоставления удобных вспомогательных методов.

Вот пример класса с совмещенным методом в Java:

```java
public class MathUtils {
    public static int add(int a, int b) {
        return a + b;
    }

    public static int subtract(int a, int b) {
        return a - b;
    }
}
```

В этом примере класс `MathUtils` содержит два статических метода: `add` и `subtract`. Оба метода принимают два целых числа в качестве аргументов и возвращают результат операции.

Чтобы вызвать эти методы, необходимо использовать имя класса и точку перед именем метода:

```java
public class Main {
    public static void main(String[] args) {
        int sum = MathUtils.add(3, 5);
        int difference = MathUtils.subtract(7, 2);

        System.out.println("Sum: " + sum);
        System.out.println("Difference: " + difference);
    }
}
```

В этом примере класс `Main` содержит метод `main`, который вызывает методы `add` и `subtract` класса `MathUtils`. Обратите внимание, что для вызова методов необходимо использовать имя класса `MathUtils` и точку перед именем метода.

## Ссылки на другие вопросы

[[Характерные особенности языка Java]]
[[Типы данных]]
[[Объявление переменных и констант]]
[[Основные операции]]
[[Основные операторы]]
[[Ввод и вывод в java]]
[[Классы (основные понятия)]]
[[Классы (конструктор, совмещенные методы и вся хуйня)]]
[[Модификаторы доступа]]
[[Наследование]]
[[Полиморфизм]]
[[Абстрактные классы]]
[[Интерфейсы]]
[[Исключения]]
[[Исключения (try, catch, finally)]]
[[Исключения(trow, throws)]]
[[Класс Object]]
[[Геттеро, сеттеро, два ствола]]